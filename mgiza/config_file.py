from shlex import quote
import os


def get_config_file(
    coocurrencefile: str,
    corpusfile: str,
    log_file: str,
    sourcevocabularyfile: str,
    targetvocabularyfile: str,
    outputpath: str,
) -> str:
    return (
        f"adbackoff 0\n"
        f"compactadtable 1\n"
        f"compactalignmentformat 0\n"
        f"coocurrencefile {quote(coocurrencefile)}\n"
        f"corpusfile {quote(corpusfile)}\n"
        f"countcutoff 1e-06\n"
        f"countcutoffal 1e-05\n"
        f"countincreasecutoff 1e-06\n"
        f"countincreasecutoffal 1e-05\n"
        f"countoutputprefix \n"
        f"d \n"
        f"deficientdistortionforemptyword 0\n"
        f"depm4 76\n"
        f"depm5 68\n"
        f"dictionary \n"
        f"dopeggingyn 0\n"
        f"dumpcount 0\n"
        f"dumpcountusingwordstring 0\n"
        f"emalignmentdependencies 2\n"
        f"emalsmooth 0.2\n"
        f"emprobforempty 0.4\n"
        f"emsmoothhmm 2\n"
        f"hmmdumpfrequency 0\n"
        f"hmmiterations 5\n"
        f"log 0\n"
        f"logfile {quote(log_file)}\n"
        f"m1 5\n"
        f"m2 0\n"
        f"m3 3\n"
        f"m4 3\n"
        f"m5 0\n"
        f"m5p0 -1\n"
        f"m6 0\n"
        f"manlexfactor1 0\n"
        f"manlexfactor2 0\n"
        f"manlexmaxmultiplicity 20\n"
        f"maxfertility 10\n"
        f"maxsentencelength 101\n"
        f"mh 5\n"
        f"mincountincrease 1e-07\n"
        f"ml 101\n"
        f"model1dumpfrequency 1\n"
        f"model1iterations 5\n"
        f"model23smoothfactor 0\n"
        f"model2dumpfrequency 0\n"
        f"model2iterations 0\n"
        f"model345dumpfrequency 0\n"
        f"model3dumpfrequency 0\n"
        f"model3iterations 3\n"
        f"model4iterations 3\n"
        f"model4smoothfactor 0.4\n"
        f"model5iterations 0\n"
        f"model5smoothfactor 0.1\n"
        f"model6iterations 0\n"
        f"nbestalignments 0\n"
        f"ncpus {quote(str(min(os.cpu_count(),16)))}\n"  # Change if you want to use all the cores
        f"nodumps 1\n"
        f"nofiledumpsyn 1\n"
        f"noiterationsmodel1 5\n"
        f"noiterationsmodel2 0\n"
        f"noiterationsmodel3 3\n"
        f"noiterationsmodel4 3\n"
        f"noiterationsmodel5 0\n"
        f"noiterationsmodel6 0\n"
        f"nsmooth 4\n"
        f"nsmoothgeneral 0\n"
        f"numberofiterationsforhmmalignmentmodel 5\n"
        f"onlyaldumps 1\n"
        f"outputfileprefix src_trg.dict\n"
        f"outputpath {quote(outputpath)}\n"
        f"p 0\n"
        f"p0 0.999\n"
        f"peggedcutoff 0.03\n"
        f"pegging 0\n"
        f"previousa \n"
        f"previousd \n"
        f"previousd4 \n"
        f"previousd42 \n"
        f"previoushmm \n"
        f"previousn \n"
        f"previousp0 \n"
        f"previoust \n"
        f"probcutoff 1e-07\n"
        f"probsmooth 1e-07\n"
        f"readtableprefix \n"
        f"restart 0\n"
        f"sourcevocabularyfile {quote(sourcevocabularyfile)}\n"
        f"t1 1\n"
        f"t2 0\n"
        f"t2to3 0\n"
        f"t3 0\n"
        f"t345 0\n"
        f"targetvocabularyfile {quote(targetvocabularyfile)}\n"
        f"tc \n"
        f"testcorpusfile \n"
        f"th 0\n"
        f"transferdumpfrequency 0\n"
        f"v 0\n"
        f"verbose 0\n"
        f"verbosesentence -10"
    )
